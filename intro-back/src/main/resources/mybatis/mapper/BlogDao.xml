<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jinkyumpark.introback.blog.BlogDao">

    <resultMap id="blogMap" type="java.util.HashMap"></resultMap>

    <select id="getRecentBlogPost"
            statementType="CALLABLE"
            parameterType="java.util.HashMap"
            >
        {
            call getRecentBlogPost(
                #{type},
                #{page},
                #{fetch_num},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getBlogPostsByPage"
            statementType="CALLABLE"
            parameterType="java.util.HashMap"
            >
        {
            CALL getBlogPostsByPage(
                #{type},
                #{page},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getBlogPostDetail"
            statementType="CALLABLE"
            parameterType="java.util.HashMap">
        {
            CALL getBlogPostDetail(
                #{num},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getBlogPostDetailLearn"
            statementType="CALLABLE"
            parameterType="java.util.HashMap">
        {
            CALL getBlogPostDetailLearn(
                #{num},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getBlogPostDetailStudyMaterial"
            statementType="CALLABLE"
            parameterType="java.util.HashMap"
            >
        {
            CALL getBlogPostDetailStudyMaterial(
                #{num},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getBlogPostDetailSummary"
            statementType="CALLABLE"
            parameterType="java.util.HashMap"
            >
        {
            CALL getBlogPostDetailSummary(
                #{num},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getPostsByCategory"
            statementType="CALLABLE"
            parameterType="java.util.HashMap">
        {
            CALL getPostsByCategory(
                #{num},
                #{type},
                #{page},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getPostCategory"
            statementType="CALLABLE"
            parameterType="java.util.HashMap"
            >
        {
            CALL getPostCategory(
                #{type},
                #{num},
                #{
                    ref_cursor,
                    mode=OUT,
                    jdbcType=CURSOR,
                    javaType=ResultSet,
                    resultMap=blogMap
                }
            )
        }
    </select>

    <select id="getPostCount"
            statementType="CALLABLE"
            parameterType="java.util.HashMap"
            resultType="_int"
            >
        {
            CALL getPostCount(
                #{type},
                #{num},
                #{count, mode=OUT, jdbcType=INTEGER}
            )
        }
    </select>

</mapper>